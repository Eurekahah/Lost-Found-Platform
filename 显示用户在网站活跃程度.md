# 显示用户在网站活跃程度
## 业务详细说明
### 1. 业务基础功能
- 评估用户的活跃程度，依据于是否每日登录、近期发表评论的次数（及热度）、近期发表帖子数量
- 记录用户积分，积分主要通过成功找回物品或成功找到失主来得到
- 记录用户动态，动态包括评论及帖子发布
### 2. 业务可选功能
- 是否考虑将用户点赞加入到动态或活跃度功能
- 用户可设置是否允许他人查看动态、积分、活跃程度等内容
## 业务具体实现
### 1. 用户活跃程度
- 活跃分计算公式：七天内登录天数 * 1 + 七天内发表评论的次数 * 3 + 一个月内发表帖子的数量 * 10
- 当用户登录、用户发表评论、用户发表帖子情况发生时，更新用户活跃分记录表
### 2. 用户积分记录
- 用户积分公式：发表找失主或找失物的帖子的个数 * 1 + 成功找回失物或成功找到失主的个数 * 5
- 当用户发生以上情况时更新用户积分表
### 3. 用户动态记录
- 用户动态包括：用户发表的评论、用户发布的帖子
- 用户发生以上行为时更新用户动态记录表
- 用户动态在用户个人主页显示
## 业务相关疑问
1. 用户积分表设计的作用是什么？
2. 用户积分如何消耗？
3. 积分变更日期有必要吗？
4. 活跃度行为有哪些？
## 业务主要设计的表的设计
- UserActivity(用户活跃度表)
    - **活跃度ID** (ActivityID): 唯一标识每条活跃度记录的主键。
    - **用户ID** (UserID): 用户的ID，外键，关联到Users表的UserID。
    - ~~**登录次数** (LoginCount): 用户登录平台的次数。~~
    - **活跃行为** (ActionID):对于评论、发帖、点赞等行为种类的标识
    - ~~**最后登录日期** (LastLoginDate): 用户最后一次登录的日期。~~
    - **活跃分数** (ActivityScore): 基于用户活动计算的活跃度分数。
- UserPoints~~(用户积分表)~~（用户整体活跃度表）
    - ~~**积分ID** (PointID): 唯一标识每个积分记录的主键。~~
    - **用户ID** (UserID): 用户的ID，外键，关联到Users表的UserID。
    - ~~**积分来源** (PointSource): 积分获取的来源，如“物品报失登记”、“成功找回物品”等。~~
    - **积分** (Points): 获得或消耗的积分数。
    - **日期** (Date): 积分变更的日期。
- UserFeeds(用户动态表)
   - **动态ID** (FeedID): 唯一标识每条动态的主键。
   - **用户ID** (UserID): 发布动态的用户ID，外键，关联到Users表的UserID。
   - **内容** (Content): 动态的具体内容。
   - **发布日期** (PublishDate): 动态发布的日期。
## 业务流程图
![流程图](Resource/显示用户活跃度流程图.jpg)