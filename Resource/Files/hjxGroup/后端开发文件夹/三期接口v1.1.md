1.用户随机呈现广告(推荐算法)
2.管理员广告的增删改
3.管理员查看广告以列表形式呈现，查询
4.用户充值vip
5.用户vip特征呈现
6.管理员vip增删改
7.管理员vip查



- 表名：**Advertisements**（广告信息表）
	
	| 字段名      | 数据类型     | 描述         |
	| ----------- | ------------ | ------------ |
	| Ad_ID        | int          | 主键，广告ID |
	| Ad_Content   | varchar(255) | 广告内容     |
    | Ad_Picture   | BLOB | 广告图片     |
	| Ad_URL       | varchar(255) | 广告链接     |
	| Ad_Type      | varchar(50)  | 广告类型     |
	| Start_Time | datetime     | 广告开始日期 |
	| End_Time  | datetime     | 广告结束日期 |
	
- 表名：**AdClickStatistics**（点击统计表）

| 字段名    | 数据类型    | 描述                 |
| --------- | ----------- | -------------------- |
| Ad_ID      | int         | PK，被点击的广告ID |
| User_ID    | int         | PK，点击用户的ID   |
| Click_Time | datetime    | 点击时间  PK           |
| IP_Address | varchar(50) | 点击用户的IP地址     |

**AdShowStatistics表**

| 字段名    | 数据类型    | 描述                 |
| --------- | ----------- | -------------------- |
| AdID      | int         | PK，被点击的广告ID |
| UserID    | int         | PK，点击用户的ID   |
| Time | datetime    | PK,点击时间             |


- **VIPMembers**（**VIP会员信息表**）

| 字段名       | 数据类型    | 描述                                |
| ------------ | ----------- | ----------------------------------- |
| VIP_MemberID  | int         | 主键，VIP会员ID                     |
| User_ID       | int         | 外键，关联用户ID                    |
| VIP_Start_Date | datetime    | VIP会员开始日期                     |
| VIP_End_Date   | datetime    | VIP会员结束日期                     |
| Status       | varchar(20) | VIP会员状态（如正常、过期、冻结等） |


- **VIP购买订单表（VIPOrders）**：

	| 字段名         | 数据类型      | 描述             |
	| -------------- | ------------- | ---------------- |
	| Order_ID        | int           | 主键，订单ID     |
	| User_ID         | int           | 外键，关联用户ID |
	| Total_Amount    | decimal(10,2) | 订单总金额       |
	| Point_Return    | int           | 积分返还量       |
	| Order_Time      | datetime      | 下单时间         |
    |Recharge_Time   |int       |充值时长|

# 用户相关接口

## 用户随机呈现广告
**接口名称**：`api/advertisement/GetRandomAd`  
**接口功能**：随机获取一个广告进行展示  
**请求方法**：`POST`

**请求参数**：无

**响应参数**：

| 参数名     | 类型   | 描述         |
|------------|--------|--------------|
| status     | string | 状态码       |
|ad|||
| ad.id      | int    | 广告ID       |
| ad.content | string | 广告内容     |
| ad.picture | string | 广告图片URL  |
| ad.url     | string | 广告链接     |
| ad.type    | string | 广告类型     |

```
{
  "status": "success",
  "ad": {
    "id": 123,
    "content": "限时优惠！全场商品买一送一，快来抢购！",
    "picture": "https://example.com/images/ad123.jpg",
    "url": "https://example.com/sale",
    "type": "promotion"
  }
}
```

## 判断用户是否为VIP会员
**接口名称**：`api/vip/isMember`  
**接口功能**：判断指定用户是否为VIP会员  
**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 描述   |
|--------|------|--------|
| user_id | int  | 用户ID |

**响应参数**：

| 参数名            | 类型     | 描述                     |
|-------------------|----------|--------------------------|
| status            | string   | 状态码                   |
| is_vip            | boolean  | 是否为VIP会员            |
```
{
    "user_id": 2
}
{
    "status": "success",
    "is_vip": true
}
```


## 用户点击广告
**接口名称**：`api/advertisement/ClickAd`  
**接口功能**：记录用户点击广告行为  
**请求方法**：`POST`

**请求参数**：

| 参数名     | 类型     | 描述     |
|------------|----------|----------|
| user_id    | int      | 用户ID   |
| ad_id      | int      | 广告ID   |
| click_time | datetime | 点击时间 |

**响应参数**：

| 参数名 | 类型   | 描述   |
|--------|--------|--------|
| status | string | 状态码 |
```
{
    "user_id": 2,
    "ad_id": 123,
    "click_time": "2024-07-27T10:00:00Z"
}

{
    "status": "success"
}
```


## 用户退出广告（弃用）
**接口名称**：`api/advertisement/ExitAd`  
**接口功能**：记录用户退出广告行为  
**请求方法**：`POST`

**请求参数**：

| 参数名    | 类型     | 描述     |
|-----------|----------|----------|
| user_id   | int      | 用户ID   |
| ad_id     | int      | 广告ID   |
| exit_time | datetime | 退出时间 |

**响应参数**：

| 参数名 | 类型   | 描述   |
|--------|--------|--------|
| status | string | 状态码 |

## 用户充值VIP
**接口名称**：`api/vip/RechargeVip`  
**接口功能**：用户充值VIP  
**请求方法**：`POST`

**请求参数**：

| 参数名        | 类型 | 描述           |
|---------------|------|----------------|
| user_id       | int  | 用户ID         |
| recharge_time | int  | 充值时长(月为单位) |
|start_time|datetime|开始时间|

**响应参数**：

| 参数名         | 类型     | 描述             |
|----------------|----------|------------------|
| status         | string   | 状态码           |
| order_id       | int      | 订单ID           |
| total_amount   | decimal  | 订单总金额       |
| point_return   | int      | 积分返还量       |
| vip_start_date | datetime | VIP会员开始日期  |
| vip_end_date   | datetime | VIP会员结束日期  |
| vip_status         | string   | VIP会员状态      |

```
{
    "user_id": 2,
    "recharge_time": 30
}
{
    "status": "success",
    "order_id": 789,
    "total_amount": 99.99,
    "point_return": 50,
    "vip_start_date": "2024-07-27T00:00:00Z",
    "vip_end_date": "2024-08-27T00:00:00Z",
    "vip_status": "active"
}
```

## 用户VIP特征呈现（管理员查找对应user_id的VIP状态也用这个）
**接口名称**：`api/vip/GetVIPstatus`  
**接口功能**：获取用户的VIP状态  
**请求方法**：`POST`

**请求参数**：

| 参数名  | 类型 | 描述   |
|---------|------|--------|
| user_id | int  | 用户ID |

**响应参数**：

| 参数名         | 类型     | 描述             |
|----------------|----------|------------------|
| status         | string   | 状态码           |
| vip_member_id   | int      | VIP会员ID        |
| vip_start_date | datetime | VIP会员开始日期  |
| vip_end_date   | datetime | VIP会员结束日期  |
| vip_status         | string   | VIP会员状态      |

```
{
    "user_id": 456
}
{
    "status": "success",
    "vip_member_id": 101,
    "vip_start_date": "2024-07-27T00:00:00Z",
    "vip_end_date": "2024-08-27T00:00:00Z",
    "vip_status": "active"
}
```

# 管理员相关接口

## 管理员对广告进行增删改

### 增加
**接口名称**：`api/advertisement/AddAdvertisement`  
**接口功能**：新增广告  
**请求方法**：`POST`

**请求参数**：

| 参数名     | 类型     | 描述         |
|------------|----------|--------------|
| ad_content | string   | 广告内容     |
| ad_picture | string   | 广告图片URL  |
| ad_url     | string   | 广告链接     |
| ad_type    | string   | 广告类型     |
| start_time | datetime | 广告开始日期 |
| end_time   | datetime | 广告结束日期 |

**响应参数**：

| 参数名 | 类型   | 描述   |
|--------|--------|--------|
| status | string | 状态码 |
| ad_id  | int    | 广告ID |

```
{
    "ad_content": "Buy one get one free!",
    "ad_picture": "https://example.com/images/ad123.png",
    "ad_url": "https://example.com/ad123",
    "ad_type": "promotion",
    "start_time": "2024-07-27T00:00:00Z",
    "end_time": "2024-08-27T00:00:00Z"
}
{
    "status": "success",
    "ad_id": 123
}
```

### 更新
**接口名称**：`api/advertisement/UpdateAdvertisement`  
**接口功能**：更新广告  
**请求方法**：`PUT`

**请求参数**：

| 参数名     | 类型     | 描述         |
|------------|----------|--------------|
| ad_id      | int      | 广告ID       |
| ad_content | string   | 广告内容     |
| ad_picture | string   | 广告图片URL  |
| ad_url     | string   | 广告链接     |
| ad_type    | string   | 广告类型     |
| start_time | datetime | 广告开始日期 |
| end_time   | datetime | 广告结束日期 |
|参数非必选 改哪个传哪个|

**响应参数**：

| 参数名 | 类型   | 描述   |
|--------|--------|--------|
| status | string | 状态码 |

```
{
    "ad_id": 123,
    "ad_content": "Limited time offer!",
    "ad_url": "https://example.com/ad123_updated"
}

{
    "status": "success"
}
```

### 删除
**接口名称**：`api/advertisement/DeleteAdvertisement`  
**接口功能**：删除广告  
**请求方法**：`DELETE`

**请求参数**：

| 参数名 | 类型 | 描述   |
|--------|------|--------|
| ad_id  | int  | 广告ID |

**响应参数**：

| 参数名 | 类型   | 描述   |
|--------|--------|--------|
| status | string | 状态码 |

```
{
    "ad_id": 123
}
{
    "status": "success"
}

```

## 管理员查看广告相关信息(修改 --将展示次数和点击次数修改到广告详细信息中)
**接口名称**：`api/advertisement/GetAdvertisements`  
**接口功能**：获取所有广告列表  
**请求方法**：`POST`

**请求参数**：无

**响应参数**：

| 参数名         | 类型     | 描述         |
|----------------|----------|--------------|
| status         | string   | 状态码       |
| advertisements | list     | 广告列表     |
| advertisements.ad_id          | int      | 广告ID       |
| advertisements.ad_content     | string   | 广告内容     |
| advertisements.ad_picture     | string   | 广告图片URL  |
| advertisements.ad_url         | string   | 广告链接     |
| advertisements.ad_type        | string   | 广告类型     |
| advertisements.start_time     | datetime | 广告开始日期 |
| advertisements.end_time       | datetime | 广告结束日期 |


```
{
    "status": "success",
    "advertisements": [
        {
            "ad_id": 123,
            "ad_content": "Buy one get one free!",
            "ad_picture": "https://example.com/images/ad123.png",
            "ad_url": "https://example.com/ad123",
            "ad_type": "promotion",
            "start_time": "2024-07-27T00:00:00Z",
            "end_time": "2024-08-27T00:00:00Z",
        }
    ]
}
```

## 管理员按照广告内容查找广告
**接口名称**：`api/advertisement/SearchByContent`  
**接口功能**：根据广告内容查找广告  
**请求方法**：`POST`

**请求参数**：

| 参数名     | 类型   | 描述         |
|------------|--------|--------------|
| content    | string | 广告内容关键词 |

**响应参数**：

| 参数名            | 类型     | 描述                     |
|-------------------|----------|--------------------------|
| status            | string   | 状态码                   |
| advertisements    | list     | 广告列表                 |
| advertisements.ad_id       | int      | 广告ID                   |
| advertisements.ad_content  | string   | 广告内容                 |
| advertisements.ad_picture  | string   | 广告图片URL              |
| advertisements.ad_url      | string   | 广告链接                 |
| advertisements.ad_type     | string   | 广告类型                 |
| advertisements.start_time | datetime | 广告开始日期             |
| advertisements.end_time   | datetime | 广告结束日期             |
```
{
    "content": "Buy one get one free"
}

{
    "status": "success",
    "advertisements": [
        {
            "ad_id": 123,
            "ad_content": "Buy one get one free!",
            "ad_picture": "https://example.com/images/ad123.png",
            "ad_url": "https://example.com/ad123",
            "ad_type": "promotion",
            "start_time": "2024-07-27T00:00:00Z",
            "end_time": "2024-08-27T00:00:00Z"
        }
    ]
}
```

## 管理员查看广告的详细信息(待定)
**接口名称**：`api/advertisement/GetAdvertisementDetails`  
**接口功能**：获取指定广告的详细信息，包括点击统计和展示统计  
**请求方法**：`POST`

**请求参数**：

| 参数名 | 类型 | 描述   |
|--------|------|--------|
| ad_id  | int  | 广告ID |
（重新刷一遍广告的基本信息）

**响应参数**：

| 参数名            | 类型     | 描述                     |
|-------------------|----------|--------------------------|
| status            | string   | 状态码                   |
|ad|||
| ad.id             | int      | 广告ID                   |
| ad.content        | string   | 广告内容                 |
| ad.picture        | string   | 广告图片URL              |
| ad.url            | string   | 广告链接                 |
| ad.type           | string   | 广告类型                 |

| start_time        | datetime | 广告开始日期             |
| end_time          | datetime | 广告结束日期             |
| click_count       | int      | 点击次数                 |
|show_count			|int		|展示次数					|
| click_statistics  | list     | 点击统计列表             |
| click_statistics.user_id    | int      | 点击用户ID           |
| click_statistics.click_time | datetime | 点击开始时间              |
| click_statistics.ip_address | string   | 用户IP地址             |
```
{
  "status": "success",
  "ad": {
    "id": 12345,
    "content": "这是一个促销广告，提供限时折扣。",
    "picture": "https://example.com/images/ad12345.jpg",
    "url": "https://example.com/promo",
    "type": "促销",
    
  },
  	"start_time": "2024-07-01T00:00:00Z",
	  "end_time": "2024-07-31T23:59:59Z",
    "click_count": 456,
    "show_count": 7890
  "click_statistics": [
    {
      "user_id": 101,
      "click_time": "2024-07-10T14:32:00Z",
      "ip_address": "192.168.1.1"
    },
    {
      "user_id": 102,
      "click_time": "2024-07-11T08:20:00Z",
      "ip_address": "192.168.1.2"
    },
    {
      "user_id": 103,
      "click_time": "2024-07-12T17:45:00Z",
      "ip_address": "192.168.1.3"
    }
  ]
}

```

## 管理员对于VIP的增删改

### 增
**接口名称**：`api/vip/AddVIPMember`  
**接口功能**：新增VIP会员  
**请求方法**：`POST`

**请求参数**：

| 参数名         | 类型     | 描述             |
|----------------|----------|------------------|
| user_id        | int      | 用户ID           |
| vip_start_date | datetime | VIP会员开始日期  |
| vip_end_date   | datetime | VIP会员结束日期  |
| vip_status         | string   | VIP会员状态      |

**响应参数**：

| 参数名       | 类型   | 描述   |
|--------------|--------|--------|
| status       | string | 状态码 |
| vip_member_id | int    | VIP会员ID |

```
{
    "user_id": 456,
    "vip_start_date": "2024-07-27T00:00:00Z",
    "vip_end_date": "2024-08-27T00:00:00Z",
    "vip_status": "active"
}

{
    "status": "success",
    "vip_member_id": 101
}

```
### 删
**接口名称**：`api/vip/DeleteVIPMember`  
**接口功能**：删除VIP会员  
**请求方法**：`DELETE`

**请求参数**：

| 参数名       | 类型 | 描述       |
|--------------|------|------------|
| vip_member_id | int  | VIP会员ID  |

**响应参数**：

| 参数名 | 类型   | 描述   |
|--------|--------|--------|
| status | string | 状态码 |

```
{
  "vip_member_id": 456
}
{
  "status": "success"
}

```

### 改
**接口名称**：`api/vip/UpdateVIPMember`  
**接口功能**：更新VIP会员信息  
**请求方法**：`PUT`

**请求参数**：

| 参数名         | 类型     | 描述             |
|----------------|----------|------------------|
| vip_member_id   | int      | VIP会员ID        |
| user_id        | int      | 用户ID           |
| vip_start_date | datetime | VIP会员开始日期  |
| vip_end_date   | datetime | VIP会员结束日期  |
| vip_status     | string   | VIP会员状态      |
(一样 还是非必选 只传需要改的即可)

**响应参数**：

| 参数名 | 类型   | 描述   |
|--------|--------|--------|
| status | string | 状态码 |

```
{
  "vip_member_id": 789,
  "user_id": 101,
  "vip_start_date": "2024-01-01T00:00:00",
  "vip_end_date": "2024-12-31T23:59:59",
  "vip_status": "active"
}
{
  "status": "success"
}

```

## 管理员查看所有VIP会员信息
**接口名称**：`api/vip/GetAllVIPMembers`  
**接口功能**：获取所有VIP会员的详细信息  
**请求方法**：`POST`

**请求参数**：无

**响应参数**：

| 参数名            | 类型     | 描述                     |
|-------------------|----------|--------------------------|
| status            | string   | 状态码                   |
| vip_members       | list     | VIP会员信息列表          |
| vip_members.vip_member_id | int  | VIP会员ID                |
| vip_members.user_id       | int  | 用户ID                   |
| vip_members.vip_start_date | datetime | VIP会员开始日期          |
| vip_members.vip_end_date   | datetime | VIP会员结束日期          |
| vip_members.status        | string   | VIP会员状态              |

```
{
  "status": "success",
  "vip_members": [
    {
      "vip_member_id": 123,
      "user_id": 456,
      "vip_start_date": "2023-01-01T00:00:00",
      "vip_end_date": "2023-12-31T23:59:59",
      "status": "active"
    },
    {
      "vip_member_id": 789,
      "user_id": 101,
      "vip_start_date": "2024-01-01T00:00:00",
      "vip_end_date": "2024-12-31T23:59:59",
      "status": "inactive"
    }
  ]
}

```