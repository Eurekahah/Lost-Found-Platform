# 接口文档

## 1. 用户发表，修改，删除评论

### 1.1 发表评论

**接口名称**: `/api/comments/add`

**功能**: 用户发表评论

**请求格式**:
- **方法**: POST
- **请求体**:
  | 参数名    | 类型  | 描述       |
  |-----------|-------|------------|
  | item_id   | STRING   | 物品标识符 |
  | user_id   | INT   | 用户标识符 |
  | content   | STRING  | 评论内容   |
  |time|DATETIME|评论时间|

**响应格式**:
- **成功响应**:
  | 参数名    | 类型   | 描述       |
  |-----------|--------|------------|
  | status    | STRING | 响应状态   |
  | comment_id| INT    | 评论标识符 |


```json
{
  "item_id": "123",
  "user_id": 456,
  "content": "这是一条评论内容",
  "time": "2024-07-22T12:34:56Z"
}

{
  "status": "success",
  "comment_id": 789
}

```


### 1.2 删除评论

**接口名称**: `/api/comments/delete`

**功能**: 用户删除评论

**请求格式**:
- **方法**: DELETE
- **请求体**:
  | 参数名     | 类型  | 描述         |
  |------------|-------|--------------|
  | comment_id | INT   | 评论标识符   |
  |user_id|INT|用户标识符|

**响应格式**:
- **成功响应**:
  | 参数名 | 类型   | 描述     |
  |--------|--------|----------|
  | status | STRING | 响应状态 |


```
{
  "comment_id": 789,
  "user_id": 456
}

{
  "status": "success"
}


```



## 2. 用户查看指定物品的评论

**接口名称**: `/api/comments/item`

**功能**: 用户查看指定动态的评论(一期文档中有查看用户动态的接口 点进详细页面再查看评论)

**请求格式**:
- **方法**: POST
- **请求体**:
  | 参数名  | 类型 | 描述           |
  |---------|------|----------------|
  | item_id | STRING  | 物品标识符     |

**响应格式**:
- **成功响应**:
  | 参数名    | 类型   | 描述           |
  |-----------|--------|----------------|
  | status    | STRING | 响应状态       |
  | comments  | ARRAY  | 评论列表       |
    - **评论列表** 是一个数组，其中每个元素的结构如下：
      | 参数名    | 类型      | 描述           |
      |-----------|-----------|----------------|
      | comment_id| INT       | 评论标识符     |
      | user_id   | INT       | 用户标识符     |
      | user_name|STRING|用户名称|
      | user_avatar|STRING|用户头像|
      | content   | STRING    | 评论内容       |
      | datetime  | DATETIME  | 日期和时间     |

```
{
  "item_id": "123"
}
{
  "status": "success",
  "comments": [
    {
      "comment_id": 789,
      "user_id": 456,
      "user_name": "张三",
      "user_avatar": "http://example.com/avatar.jpg",
      "content": "这是一条评论内容",
      "datetime": "2024-07-22T12:34:56Z"
    }
  ]
}
```


## 3. 用户查看近期活跃行为

**接口名称**: `/api/activity/recent`

**功能**: 用户查看近期活跃行为

**请求格式**:
- **方法**: POST
- **URL 参数**:
  | 参数名  | 类型 | 描述       |
  |---------|------|------------|
  | user_id | INT  | 用户标识符 |

**响应格式**:
- **成功响应**:
  | 参数名      | 类型   | 描述           |
  |-------------|--------|----------------|
  | status      | STRING | 响应状态       |
  | activities  | ARRAY  | 活跃行为列表   |
    - **活跃行为列表** 是一个数组，其中每个元素的结构如下：
      | 参数名         | 类型      | 描述           |
      |----------------|-----------|----------------|
      | activity_id    | INT       | 活动标识符     |
      | activity_type  | STRING    | 活动类型       |
      | score          | INT       | 活动得分       |
      | datetime       | DATETIME  | 活动日期时间   |

```
{
  "user_id": 456
}

{
  "status": "success",
  "activities": [
    {
      "activity_id": 1,
      "activity_type": "评论",
      "score": 10,
      "datetime": "2024-07-22T12:34:56Z"
    }
  ]
}

```

## 4. 管理员进行活跃行为表的更新（增删改）

### 4.1 新增活跃行为

**接口名称**: `/api/activity/add`

**功能**: 管理员新增活跃行为

**请求格式**:
- **方法**: POST
- **请求体**:
  | 参数名       | 类型  | 描述         |
  |--------------|-------|--------------|
  | user_id      | INT   | 用户标识符   |
  | activity_type| STRING| 活跃行为类型 |
  | score        | INT   | 活跃行为分数 |
  | datetime     | DATETIME| 活跃时间     |

**响应格式**:
- **成功响应**:
  | 参数名     | 类型   | 描述           |
  |------------|--------|----------------|
  | status     | STRING | 响应状态       |
  | activity_id| INT    | 活跃行为标识符 |

```
{
  "user_id": 456,
  "activity_type": "评论",
  "score": 10,
  "datetime": "2024-07-22T12:34:56Z"
}
{
  "status": "success",
  "activity_id": 1
}

```

### 4.2 修改活跃行为

**接口名称**: `/api/activity/update`

**功能**: 管理员修改活跃行为

**请求格式**:
- **方法**: PUT
- **请求体**:
  | 参数名       | 类型  | 描述         |
  |--------------|-------|--------------|
  | activity_id  | INT   | 活跃行为标识符 |
  | activity_type| STRING| 活跃行为类型 |
  | score        | INT   | 活跃行为分数 |
  | datetime     | STRING| 活跃时间     |

**响应格式**:
- **成功响应**:
  | 参数名 | 类型   | 描述     |
  |--------|--------|----------|
  | status | STRING | 响应状态 |

```
{
  "activity_id": 1,
  "activity_type": "点赞",
  "score": 20,
  "datetime": "2024-07-22T12:34:56Z"
}
{
  "status": "success"
}

```

### 4.3 删除活跃行为

**接口名称**: `/api/activity/delete`

**功能**: 管理员删除活跃行为

**请求格式**:
- **方法**: DELETE
- **请求体**:
  | 参数名       | 类型  | 描述         |
  |--------------|-------|--------------|
  | activity_id  | INT   | 活跃行为标识符 |

**响应格式**:
- **成功响应**:
  | 参数名 | 类型   | 描述     |
  |--------|--------|----------|
  | status | STRING | 响应状态 |

```
{
  "activity_id": 1
}
{
  "status": "success"
}

```

## 5. 用户查看整体活跃度

**接口名称**: `/api/overallactivity/overall`

**功能**: 用户查看整体活跃度

**请求格式**:

- **方法**: POST
- **URL 参数**: 无
    | 参数名         | 类型   | 描述           |
  |----------------|--------|----------------|
  | user_id         | INT | 用户标识符       |

**响应格式**:
- **成功响应**:
  | 参数名         | 类型   | 描述           |
  |----------------|--------|----------------|
  | status         | STRING | 响应状态       |
  | overall_score  | INT    | 总体活跃度分数 |

```
{
  "user_id": 456
}
{
  "status": "success",
  "overall_score": 100
}

```

## 6. 管理员进行整体活跃度表的更新（增删改）


### 6.4 管理员查看所有用户的活跃度

**接口名称**: `/api/overallactivity/all`

**功能**: 管理员查看所有用户的活跃度

**请求格式**:
- **方法**: POST
- **请求体**: 无

**响应格式**:
- **成功响应**:
  | 参数名       | 类型   | 描述                   |
  |--------------|--------|------------------------|
  | status       | STRING | 响应状态               |
  | overall_activities | ARRAY  | 包含所有用户活跃度的数组 |
  |user_id|INT|用户ID|
  |activity_score|int|用户活跃度分数|

```
{
  "status": "success",
  "overall_activities": [
    {
    "user_id": 1,
    "activity_score": 85
    },
    {
    "user_id": 2,
    "activity_score": 90
    },
    ...
  ]
}

```

不要忘了做一个增加动态条目的函数 并且设置一个触发器